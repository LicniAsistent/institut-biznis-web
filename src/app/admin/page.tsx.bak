'use client';

import { useState } from 'react';
import Link from 'next/link';
import { Button, Card, CardBody, CardHeader } from '@/components/ui';
import { Badge } from '@/components/ui/Badge';
import { Avatar } from '@/components/ui/Avatar';
import { 
  Users, DollarSign, TrendingUp, Activity, AlertTriangle, CheckCircle, XCircle,
  BarChart3, Settings, Shield, Crown, Zap, Flame, MessageSquare, Flag,
  MoreVertical, Search, Filter, Ban, Star, ChevronDown, Download, Send,
  Plus, Crown as CrownIcon, Zap as ZapIcon
} from 'lucide-react';

export default function AdminDashboard() {
  const [activeTab, setActiveTab] = useState('overview');
  const [showEBChat, setShowEBChat] = useState(false);
  const [ebMessage, setEbMessage] = useState('');

  // Demo user - would come from auth
  const currentUser = {
    isAdmin: true,
    role: 'founder', // founder, executive_board, admin, etc.
    nickname: 'PetarJB',
  };

  // Demo data
  const stats = {
    totalUsers: 1247,
    activeUsers: 892,
    paidMembers: 456,
    monthlyRevenue: 45600,
    courseSales: 89,
    pendingVerifications: 12,
    flaggedPosts: 5,
    newMembers: 45,
  };

  const users = [
    { id: 1, nickname: 'MarkoM', email: 'marko@email.com', rank: 'Polaznik', level: 1, xp: 450, status: 'active', joined: '2026-02-10', paid: false, verification: 'pending' },
    { id: 2, nickname: 'JelenaP', email: 'jelena@email.com', rank: 'Pripravnik', level: 3, xp: 3200, status: 'active', joined: '2026-01-15', paid: true, verification: 'approved' },
    { id: 3, nickname: 'PetarJB', email: 'petar@email.com', rank: 'Founder', level: 7, xp: 15000, status: 'active', joined: '2025-12-01', paid: true, verification: 'approved', role: 'founder' },
    { id: 4, nickname: 'ZikaB', email: 'zika@email.com', rank: 'Aktivni uƒçenik', level: 2, xp: 1200, status: 'warning', joined: '2026-02-08', paid: false, verification: 'pending' },
  ];

  const pendingVerifications = [
    { id: 1, nickname: 'MilanR', submitted: '2026-02-14', video: true, business: false },
    { id: 2, nickname: 'SaraM', submitted: '2026-02-13', video: true, business: true },
  ];

  const flaggedPosts = [
    { id: 1, channel: '#opsta-diskusija', user: 'Neko123', reason: 'Spam', reportedBy: 'MarkoM', time: '2h ago' },
  ];

  // Executive Board members
  const executiveBoard = [
    { id: 1, nickname: 'PetarJB', role: 'Founder & CEO', icon: 'üëë' },
    { id: 2, nickname: 'VisionLead', role: 'Vision Lead (CCO)', icon: 'üí°' },
    { id: 3, nickname: 'Executive1', role: 'Executive Board', icon: 'üëî' },
    { id: 4, nickname: 'Executive2', role: 'Executive Board', icon: 'üëî' },
  ];

  // EB Chat messages
  const ebMessages = [
    { id: 1, user: 'VisionLead', message: 'Treba dodati novi kurs za AI.', time: '10:23' },
    { id: 2, user: 'PetarJB', message: 'Odliƒçna ideja! Ko ƒáe biti predavaƒç?', time: '10:25' },
    { id: 3, user: 'Executive1', message: 'Mogu kontaktirati mog prijatelja iz AI industrije.', time: '10:30' },
  ];

  // Role chats
  const roleChats = {
    support: [
      { id: 1, user: 'SupportLead', message: 'Novi korisnik ima problem sa loginom.', time: '09:15' },
      { id: 2, user: 'SupportAgent1', message: 'Re≈°avam.', time: '09:20' },
    ],
    moderator: [
      { id: 1, user: 'ModLead', message: 'Prijavljen post u #general.', time: '11:00' },
    ],
    project_leader: [
      { id: 1, user: 'PL1', message: 'Projekat AutoPerionica ide po planu.', time: '08:45' },
    ],
  };

  const roles = [
    { id: 'support', name: 'Support Tim', icon: 'üéß', color: 'blue', count: 5, hasChat: true },
    { id: 'moderator', name: 'Moderatori', icon: 'üõ°Ô∏è', color: 'red', count: 8, hasChat: true },
    { id: 'project_leader', name: 'Project Lideri', icon: 'üöÄ', color: 'green', count: 4, hasChat: true },
    { id: 'community', name: 'Community Lead', icon: 'üåü', color: 'purple', count: 1, hasChat: true },
    { id: 'admin', name: 'Admini', icon: '‚ö°', color: 'gold', count: 3, hasChat: false },
    { id: 'executive', name: 'Executive Board', icon: 'üëî', color: 'violet', count: 3, hasChat: true },
    { id: 'vision', name: 'Vision Lead', icon: 'üí°', color: 'yellow', count: 1, hasChat: false },
  ];

  const handleVerification = (id: number, action: 'approve' | 'reject') => {
    alert(`Verifikacija ${id} - ${action}`);
  };

  const handleModeration = (id: number, action: 'ban' | 'ignore') => {
    alert(`Post ${id} - ${action}`);
  };

  const handleRoleAction = (roleId: string, action: 'view' | 'add') => {
    if (roleId === 'executive' && action === 'add') {
      alert('Otvara se modal za dodavanje u Executive Board');
    } else if (roleId === 'executive' && action === 'view') {
      setShowEBChat(true);
    } else {
      alert(`${roleId} - ${action}`);
    }
  };

  const sendEbMessage = () => {
    if (ebMessage.trim()) {
      alert(`Poruka poslata: ${ebMessage}`);
      setEbMessage('');
    }
  };

  // If not admin, show access denied
  if (!currentUser.isAdmin) {
    return (
      <div className="min-h-screen bg-dark-900 text-white flex items-center justify-center">
        <div className="text-center">
          <Shield className="w-20 h-20 text-red-500 mx-auto mb-4" />
          <h1 className="text-3xl font-bold mb-2">Pristup odbijen</h1>
          <p className="text-dark-400 mb-4">Samo admini mogu pristupiti ovoj stranici.</p>
          <Link href="/">
            <Button variant="primary">Nazad na poƒçetak</Button>
          </Link>
        </Div>
      </Div>
    );
  }

  return (
    <div className="min-h-screen bg-dark-900 text-white">
      {/* Background */}
      <div className="fixed inset-0 z-[-1] overflow-hidden">
        <div className="absolute top-[-30%] left-[-20%] w-[60vw] h-[60vw] rounded-full bg-blue-500/10 blur-[150px]" />
        <div className="absolute bottom-[-30%] right-[-20%] w-[70vw] h-[70vw] rounded-full bg-purple-500/10 blur-[150px]" />
      </Div>

      {/* Navigation */}
      <nav className="fixed top-0 left-0 right-0 z-50 glass">
        <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
          <Link href="/" className="flex items-center gap-3">
            <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center font-bold shadow-lg">IB</Div>
            <span className="text-xl font-bold">Institut Biznis</span>
            <span className="px-2 py-1 bg-red-500/20 text-red-400 text-xs rounded-full border border-red-500/30">ADMIN</span>
          </Link>
          <div className="flex items-center gap-4">
            <Button variant="ghost" size="sm"><Settings className="w-5 h-5" /></Button>
            <div className="flex items-center gap-2">
              <Avatar size="sm" status="online">{currentUser.nickname.charAt(0)}</Avatar>
              <span className="font-medium">{currentUser.nickname}</span>
            </Div>
          </Div>
        </Div>
      </nav>

      <main className="pt-24 pb-12 px-4">
        <div className="max-w-7xl mx-auto">
          
          {/* Header */}
          <div className="flex items-center justify-between mb-8">
            <div>
              <h1 className="text-3xl font-bold mb-2">Admin Dashboard</h1>
              <p className="text-dark-400">Upravljaj korisnicima, sadr≈æajem i sistemom</p>
            </Div>
            <div className="flex gap-3">
              <Button variant="outline" size="sm">
                <Filter className="w-4 h-4 mr-2" />Filter
              </Button>
              {currentUser.role === 'founder' && (
                <Button variant="primary" size="sm">
                  <Download className="w-4 h-4 mr-2" />Izvezi
                </Button>
              )}
            </Div>
          </Div>

          {/* Tabs */}
          <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
            {[
              { id: 'overview', label: 'Pregled', icon: <BarChart3 className="w-4 h-4" /> },
              { id: 'users', label: 'Korisnici', icon: <Users className="w-4 h-4" /> },
              { id: 'verifications', label: 'Verifikacije', icon: <CheckCircle className="w-4 h-4" /> },
              { id: 'moderation', label: 'Moderacija', icon: <Flag className="w-4 h-4" /> },
              { id: 'roles', label: 'Uloge & Chat', icon: <Shield className="w-4 h-4" /> },
              ...(currentUser.role === 'founder' ? [{ id: 'revenue', label: 'Prihod', icon: <DollarSign className="w-4 h-4" />] : []),
            ].map((tab) => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${
                  activeTab === tab.id
                    ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30'
                    : 'bg-dark-800 text-dark-400 hover:bg-dark-700'
                }`}
              >
                {tab.icon}
                {tab.label}
              </button>
            ))}
          </Div>

          {/* Overview Tab */}
          {activeTab === 'overview' && (
            <div className="space-y-6">
              {/* Stats Grid */}
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                <Card className="bg-gradient-to-br from-blue-500/20 to-blue-600/10 border-blue-500/30">
                  <CardBody>
                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-dark-400 text-sm">Ukupno korisnika</p>
                        <p className="text-3xl font-bold">{stats.totalUsers.toLocaleString()}</p>
                        <p className="text-green-400 text-sm flex items-center gap-1">
                          <TrendingUp className="w-3 h-3" /> +{stats.newMembers} ovaj mesec
                        </p>
                      </Div>
                      <Users className="w-10 h-10 text-blue-400" />
                    </Div>
                  </CardBody>
                </Card>

                <Card className="bg-gradient-to-br from-green-500/20 to-green-600/10 border-green-500/30">
                  <CardBody>
                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-dark-400 text-sm">Plaƒáeni ƒçlanovi</p>
                        <p className="text-3xl font-bold">{stats.paidMembers}</p>
                        <p className="text-dark-400 text-sm">{Math.round((stats.paidMembers / stats.totalUsers) * 100)}% od ukupnih</p>
                      </Div>
                      <Crown className="w-10 h-10 text-green-400" />
                    </Div>
                  </CardBody>
                </Card>

                <Card className="bg-gradient-to-br from-purple-500/20 to-purple-600/10 border-purple-500/30">
                  <CardBody>
                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-dark-400 text-sm">Prihod (mesec)</p>
                        <p className="text-3xl font-bold">{stats.monthlyRevenue.toLocaleString()} RSD</p>
                        <p className="text-purple-400 text-sm flex items-center gap-1">
                          <TrendingUp className="w-3 h-3" /> +15%
                        </p>
                      </Div>
                      <DollarSign className="w-10 h-10 text-purple-400" />
                    </Div>
                  </CardBody>
                </Card>

                <Card className="bg-gradient-to-br from-orange-500/20 to-orange-600/10 border-orange-500/30">
                  <CardBody>
                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-dark-400 text-sm">Prodati kursevi</p>
                        <p className="text-3xl font-bold">{stats.courseSales}</p>
                        <p className="text-dark-400 text-sm">Ovaj mesec</p>
                      </Div>
                      <Zap className="w-10 h-10 text-orange-400" />
                    </Div>
                  </CardBody>
                </Card>
              </Div>

              {/* Quick Actions */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <Card className="bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border border-yellow-500/30">
                  <CardBody className="flex items-center gap-4">
                    <div className="w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center">
                      <AlertTriangle className="w-6 h-6 text-yellow-400" />
                    </Div>
                    <div className="flex-1">
                      <p className="font-bold">Na ƒçekanju verifikacija</p>
                      <p className="text-sm text-dark-400">{stats.pendingVerifications} korisnika ƒçeka odobrenje</p>
                    </Div>
                    <Button variant="outline" size="sm" onClick={() => setActiveTab('verifications')}>
                      Pregledaj
                    </Button>
                  </CardBody>
                </Card>

                <Card className="bg-gradient-to-br from-red-500/10 to-pink-500/10 border border-red-500/30">
                  <CardBody className="flex items-center gap-4">
                    <div className="w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center">
                      <Flag className="w-6 h-6 text-red-400" />
                    </Div>
                    <div className="flex-1">
                      <p className="font-bold">Prijavljeni postovi</p>
                      <p className="text-sm text-dark-400">{stats.flaggedPosts} postova za pregled</p>
                    </Div>
                    <Button variant="outline" size="sm" onClick={() => setActiveTab('moderation')}>
                      Pregledaj
                    </Button>
                  </CardBody>
                </Card>
              </Div>
            </Div>
          )}

          {/* Users Tab */}
          {activeTab === 'users' && (
            <Card>
              <CardHeader>
                <div className="flex items-center justify-between">
                  <h3 className="font-bold">Svi korisnici</h3>
                  <div className="relative">
                    <Search className="w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-dark-500" />
                    <input 
                      type="text" 
                      placeholder="Pretra≈æi..." 
                      className="bg-dark-800 border border-dark-700 rounded-lg pl-9 pr-4 py-2 text-sm w-64"
                    />
                  </Div>
                </Div>
              </CardHeader>
              <CardBody className="p-0">
                <table className="w-full">
                  <thead className="bg-dark-800">
                    <tr>
                      <th className="text-left p-4 text-sm text-dark-400">Korisnik</th>
                      <th className="text-left p-4 text-sm text-dark-400">Rang</th>
                      <th className="text-left p-4 text-sm text-dark-400">XP</th>
                      <th className="text-left p-4 text-sm text-dark-400">Status</th>
                      <th className="text-left p-4 text-sm text-dark-400">Verifikacija</th>
                      <th className="text-left p-4 text-sm text-dark-400">Akcije</th>
                    </tr>
                  </thead>
                  <tbody>
                    {users.map((user) => (
                      <tr key={user.id} className="border-b border-dark-700 hover:bg-dark-800/50">
                        <td className="p-4">
                          <div className="flex items-center gap-3">
                            <Avatar size="sm">{user.nickname.charAt(0)}</Avatar>
                            <div>
                              <p className="font-medium">{user.nickname}</p>
                              <p className="text-xs text-dark-500">{user.email}</p>
                            </Div>
                          </Div>
                        </td>
                        <td className="p-4">
                          <span className="px-2 py-1 bg-dark-700 rounded text-sm">{user.rank}</span>
                        </td>
                        <td className="p-4">
                          <span className="text-yellow-400">{user.xp.toLocaleString()} XP</span>
                        </td>
                        <td className="p-4">
                          <span className={`px-2 py-1 rounded text-xs ${
                            user.status === 'active' ? 'bg-green-500/20 text-green-400' : 'bg-yellow-500/20 text-yellow-400'
                          }`}>
                            {user.status}
                          </span>
                        </td>
                        <td className="p-4">
                          <span className={`px-2 py-1 rounded text-xs ${
                            user.verification === 'approved' ? 'bg-green-500/20 text-green-400' :
                            user.verification === 'pending' ? 'bg-yellow-500/20 text-yellow-400' :
                            'bg-red-500/20 text-red-400'
                          }`}>
                            {user.verification}
                          </span>
                        </td>
                        <td className="p-4">
                          <Button variant="ghost" size="sm">
                            <MoreVertical className="w-4 h-4" />
                          </Button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </CardBody>
            </Card>
          )}

          {/* Verifications Tab */}
          {activeTab === 'verifications' && (
            <Card>
              <CardHeader>
                <h3 className="font-bold flex items-center gap-2">
                  <CheckCircle className="w-5 h-5 text-yellow-400" />
                  Na ƒçekanju ({pendingVerifications.length})
                </h3>
              </CardHeader>
              <CardBody className="space-y-4">
                {pendingVerifications.map((v) => (
                  <div key={v.id} className="p-4 bg-dark-800 rounded-xl flex items-center gap-4">
                    <Avatar size="lg">{v.nickname.charAt(0)}</Avatar>
                    <div className="flex-1">
                      <p className="font-bold">{v.nickname}</p>
                      <p className="text-sm text-dark-400">Poslao: {v.submitted}</p>
                      <div className="flex gap-2 mt-2">
                        <span className={`px-2 py-1 rounded text-xs ${v.video ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`}>
                          {v.video ? '‚úÖ Video' : '‚ùå Bez videa'}
                        </span>
                        <span className={`px-2 py-1 rounded text-xs ${v.business ? 'bg-green-500/20 text-green-400' : 'bg-dark-700 text-dark-400'}`}>
                          {v.business ? '‚úÖ Biznis' : '‚ÑπÔ∏è Samo identitet'}
                        </span>
                      </Div>
                    </Div>
                    <div className="flex gap-2">
                      <Button variant="outline" size="sm" onClick={() => handleVerification(v.id, 'reject')}>
                        <XCircle className="w-4 h-4 mr-2" />Odbij
                      </Button>
                      <Button variant="primary" size="sm" onClick={() => handleVerification(v.id, 'approve')}>
                        <CheckCircle className="w-4 h-4 mr-2" />Odobri
                      </Button>
                    </Div>
                  </Div>
                ))}
              </CardBody>
            </Card>
          )}

          {/* Moderation Tab */}
          {activeTab === 'moderation' && (
            <Card>
              <CardHeader>
                <h3 className="font-bold flex items-center gap-2">
                  <Flag className="w-5 h-5 text-red-400" />
                  Prijavljeni postovi ({flaggedPosts.length})
                </h3>
              </CardHeader>
              <CardBody className="space-y-4">
                {flaggedPosts.map((post) => (
                  <div key={post.id} className="p-4 bg-dark-800 rounded-xl">
                    <div className="flex items-start justify-between mb-2">
                      <div>
                        <p className="font-bold">{post.user}</p>
                        <p className="text-sm text-dark-400">{post.channel}</p>
                      </Div>
                      <span className="text-xs text-dark-500">{post.time}</span>
                    </Div>
                    <p className="text-dark-300 mb-3">Razlog: {post.reason}</p>
                    <p className="text-xs text-dark-500 mb-3">Prijavio: {post.reportedBy}</p>
                    <div className="flex gap-2">
                      <Button variant="outline" size="sm" onClick={() => handleModeration(post.id, 'ignore')}>
                        Ignori≈°i
                      </Button>
                      <Button variant="danger" size="sm" onClick={() => handleModeration(post.id, 'ban')}>
                        <Ban className="w-4 h-4 mr-2" />Ban korisnika
                      </Button>
                    </Div>
                  </Div>
                ))}
              </CardBody>
            </Card>
          )}

          {/* Roles & Chats Tab */}
          {activeTab === 'roles' && (
            <div className="space-y-6">
              
              {/* Executive Board Special Section */}
              <Card className="bg-gradient-to-br from-violet-500/10 to-purple-500/10 border border-violet-500/30">
                <CardHeader>
                  <div className="flex items-center justify-between">
                    <h3 className="font-bold flex items-center gap-2">
                      <CrownIcon className="w-5 h-5 text-gold-400" />
                      Executive Board
                    </h3>
                    {currentUser.role === 'founder' && (
                      <Button variant="gold" size="sm">
                        <Plus className="w-4 h-4 mr-2" />Dodaj ƒçlana
                      </Button>
                    )}
                  </Div>
                </CardHeader>
                <CardBody>
                  {/* Poker Table */}
                  <div className="relative mb-6">
                    <div className="bg-gradient-to-br from-violet-600/20 to-purple-600/20 rounded-2xl p-8 border border-violet-500/30">
                      <div className="text-center mb-4">
                        <p className="text-gold-400 font-bold text-lg">üé∞ POKER STOL üé∞</p>
                        <p className="text-sm text-dark-400">Executive Board</p>
                      </Div>
                      <div className="flex justify-center flex-wrap gap-4">
                        {executiveBoard.map((member) => (
                          <div key={member.id} className="text-center">
                            <div className="w-16 h-16 rounded-full bg-dark-800 border-2 border-violet-500 flex items-center justify-center text-2xl mb-2">
                              {member.icon}
                            </Div>
                            <p className="font-bold text-sm">{member.nickname}</p>
                            <p className="text-xs text-dark-400">{member.role}</p>
                          </Div>
                        ))}
                      </Div>
                    </Div>
                  </Div>

                  {/* EB Chat */}
                  <div className="bg-dark-800 rounded-xl overflow-hidden">
                    <div className="p-3 bg-violet-500/20 border-b border-violet-500/30">
                      <p className="font-bold text-sm flex items-center gap-2">
                        <MessageSquare className="w-4 h-4" />
                        Executive Board Chat
                      </p>
                    </Div>
                    <div className="h-64 overflow-y-auto p-4 space-y-3">
                      {ebMessages.map((msg) => (
                        <div key={msg.id} className="flex gap-2">
                          <span className="font-bold text-violet-400 text-sm">{msg.user}:</span>
                          <span className="text-dark-300 text-sm">{msg.message}</span>
                          <span className="text-xs text-dark-500 ml-auto">{msg.time}</span>
                        </Div>
                      ))}
                    </Div>
                    <div className="p-3 border-t border-dark-700 flex gap-2">
                      <input 
                        type="text"
                        value={ebMessage}
                        onChange={(e) => setEbMessage(e.target.value)}
                        placeholder="Napi≈°i poruku..."
                        className="flex-1 bg-dark-700 border border-dark-600 rounded-lg px-4 py-2 text-sm"
                        onKeyDown={(e) => e.key === 'Enter' && sendEbMessage()}
                      />
                      <Button variant="primary" size="sm" onClick={sendEbMessage}>
                        <Send className="w-4 h-4" />
                      </Button>
                    </Div>
                  </Div>
                </CardBody>
              </Card>

              {/* Other Roles */}
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                {roles.filter(r => r.hasChat).map((role) => (
                  <Card key={role.id}>
                    <CardBody>
                      <div className="flex items-center gap-3 mb-4">
                        <div className={`w-12 h-12 rounded-xl bg-${role.color}-500/20 flex items-center justify-center text-2xl`}>
                          {role.icon}
                        </Div>
                        <div>
                          <p className="font-bold">{role.name}</p>
                          <p className="text-sm text-dark-400">{role.count} osoba</p>
                        </Div>
                      </Div>
                      <Button 
                        variant="outline" 
                        size="sm" 
                        fullWidth
                        onClick={() => handleRoleAction(role.id, 'view')}
                      >
                        <MessageSquare className="w-4 h-4 mr-2" />Otvori chat
                      </Button>
                    </CardBody>
                  </Card>
                ))}
              </Div>

              {/* Admin Role (no chat, just management) */}
              <Card>
                <CardBody>
                  <div className="flex items-center gap-3 mb-4">
                    <div className="w-12 h-12 rounded-xl bg-gold-500/20 flex items-center justify-center text-2xl">
                      ‚ö°
                    </Div>
                    <div className="flex-1">
                      <p className="font-bold">Admini</p>
                      <p className="text-sm text-dark-400">3 osobe - puna kontrola sistema</p>
                    </Div>
                    <Button variant="outline" size="sm">
                      <Settings className="w-4 h-4 mr-2" />Upravljaj
                    </Button>
                  </Div>
                </CardBody>
              </Card>

            </Div>
          )}

          {/* Revenue Tab (Only Founder) */}
          {activeTab === 'revenue' && currentUser.role === 'founder' && (
            <div className="space-y-6">
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <Card>
                  <CardBody>
                    <p className="text-dark-400 text-sm">Ukupni prihod (6 meseci)</p>
                    <p className="text-3xl font-bold text-green-400">1,270,000 RSD</p>
                  </CardBody>
                </Card>
                <Card>
                  <CardBody>
                    <p className="text-dark-400 text-sm">Proseƒçno meseƒçno</p>
                    <p className="text-3xl font-bold text-blue-400">211,667 RSD</p>
                  </CardBody>
                </Card>
                <Card>
                  <CardBody>
                    <p className="text-dark-400 text-sm">Rast</p>
                    <p className="text-3xl font-bold text-purple-400">+167%</p>
                  </CardBody>
                </Card>
              </Div>
              <Card>
                <CardHeader>
                  <h3 className="font-bold">Prihod po mesecima</h3>
                </CardHeader>
                <CardBody>
                  <div className="h-64 flex items-end gap-4">
                    {[
                      { month: 'Sep', subs: 12000, courses: 5000 },
                      { month: 'Oct', subs: 15000, courses: 8000 },
                      { month: 'Nov', subs: 18000, courses: 12000 },
                      { month: 'Dec', subs: 22000, courses: 15000 },
                      { month: 'Jan', subs: 28000, courses: 20000 },
                      { month: 'Feb', subs: 32000, courses: 18000 },
                    ].map((data, i) => (
                      <div key={i} className="flex-1 flex flex-col items-center gap-2">
                        <div 
                          className="w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg"
                          style={{ height: `${(data.subs / 32000) * 200}px` }}
                        />
                        <div 
                          className="w-1/2 bg-gradient-to-t from-purple-500 to-purple-400 rounded-t-lg"
                          style={{ height: `${(data.courses / 32000) * 200}px` }}
                        />
                        <span className="text-xs text-dark-400 mt-2">{data.month}</span>
                      </Div>
                    ))}
                  </Div>
                  <div className="flex items-center gap-4 mt-4">
                    <div className="flex items-center gap-2">
                      <div className="w-3 h-3 rounded bg-blue-500" />
                      <span className="text-sm text-dark-400">Pretplate</span>
                    </Div>
                    <div className="flex items-center gap-2">
                      <div className="w-3 h-3 rounded bg-purple-500" />
                      <span className="text-sm text-dark-400">Kursevi</span>
                    </Div>
                  </Div>
                </CardBody>
              </Card>
            </Div>
          )}

        </Div>
      </main>
    </Div>
  );
}
